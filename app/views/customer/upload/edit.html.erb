<style>
  input[type="file"] {
      display: none;
  }
  .custom-file-upload {
    border: 1px solid #ccc;
    display: inline-block;
    padding: 6px 12px;
}
</style>
<div class="container">
  <%= form_for :upload, url: customer_upload_update_path do |f| %>
    <%= f.hidden_field :id, value: params[:id] %>
    <br/>
    <div class="row">
        <div class="col col-md-3 col-sm-3 col-xs-3">
        </div>
        <div class="col col-md-6 col-sm-6 col-xs-6">
          <%= image_tag !@customer.image_url.nil? ? @customer.image_url : '', class: 'img-fluid hoverable', id: 'image' %>
        </div>
        <div class="col col-md-3 col-sm-3 col-xs-3">
        </div>
    </div>
    <div class="row">   
      <div class="col col-md-12">
        <br/>
        <label class="custom-file-upload btn btn-block">
          Select File
          <%= f.file_field :image, id: 'imgInp' %>
        <label>
      </div>
    </div>  
    <div class="row">
      <div class="col col-md-4"> 
        <br/>
        <button type="submit" class="btn btn-block" style="background-color:#009C3C;color:white">Update</button>
      </div>
    </div>
  <% end %>
</div>
<script>
  $(function(){
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        
        reader.onload = function(e) {
          $('#image').attr('src', e.target.result).width(200).height(200);
        }
        
        reader.readAsDataURL(input.files[0]); // convert to base64 string
      }
    }

    $("#imgInp").change(function() {
      readURL(this);
    });
  });
</script>